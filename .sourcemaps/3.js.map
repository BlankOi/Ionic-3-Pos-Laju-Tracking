{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { DataProvider } from './../../providers/data/data';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, LoadingController, AlertController, ActionSheetController } from 'ionic-angular';\n\n//pos provider\nimport { PosApiProvider } from './../../providers/pos-api/pos-api';\n\n//BarcodeScanner\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\n\n//IonicStorageModule\nimport { Storage } from '@ionic/storage';\nimport { DeviceFeedback } from '@ionic-native/device-feedback';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  dataObj: {\n    title: string;\n    trackingNum: string;\n    data: any[];\n    code: number;\n    icon: string;\n  };\n\n  //declare dataObject\n  dataObjNew = [];\n\n  //data dari barcode\n  public barCodeData = {};\n  //list of tracking status\n  public trackingStatus: any[] = [];\n\n  //variable untuk store data dari form\n  public trackingNum: string;\n  public title: string;\n  public code: number;\n  public icon: string;\n\n\n  constructor(\n    public navCtrl: NavController,\n    private pos: PosApiProvider,\n    public barcode: BarcodeScanner,\n    public storage: Storage,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public dataProvider: DataProvider,\n    public haptic: DeviceFeedback,\n    public actionSheetCtrl:ActionSheetController\n  ) {\n  }\n\n\n  //loader start\n  public loader;\n  showLoading() {\n      this.loader = this.loadingCtrl.create({\n        content: 'Checking...'\n      });\n      this.loader.present();\n    // }\n  }\n\n  dismissLoading() {\n    if (this.loader) {\n      this.loader.dismiss();\n      this.loader = null;\n    }\n  }\n  // loader end\n\n  //code 204\n  showPrompt() {\n    let prompt = this.alertCtrl.create({\n      title: 'Sorry, no record found.',\n      message: \"Please make sure your tracking number is correct or try again later.\",\n\n      buttons: [\n        {\n          text: 'Ok',\n          handler: data => {\n            this.dismissLoading();\n            // prompt.dismiss();\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n  //error 202 end\n\n  //code 504\n  showPrompt2() {\n    let prompt = this.alertCtrl.create({\n      title: 'Sorry, Server usage is too high.',\n      message: \"Please try again later.\",\n\n      buttons: [\n        {\n          text: 'Ok',\n          handler: data => {\n            this.dismissLoading();\n            prompt.dismiss();\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n  //error 504\n\n  //BarcodeScanner\n  scan() {\n    this.haptic.acoustic()\n\n    this.barcode.scan().then((barcodeData) => {\n      this.trackingNum = barcodeData.text;\n    }, (err) => {\n      // An error occurred\n    });\n  }\n  //BarcodeScanner end\n\n  //track button\n  getTracking() {\n    this.haptic.acoustic()\n\n    this.showLoading();\n\n    this.pos.getDetail(this.trackingNum).subscribe(result => {\n      this.code = result.code;\n\n      // nak amik key data je (list tracking status) dan save dlm trackingStatus array\n      for (var key in result.data) {\n        if (result.data.hasOwnProperty(key)) {\n          this.trackingStatus.push(result.data[key]);\n        }\n      }\n\n      //store semua dalm object\n      this.dataObj = {\n        title: this.title,\n        trackingNum: this.trackingNum,\n        data: this.trackingStatus,\n        code: result.code,\n        icon: this.icon\n      }\n      console.log('dataObj:', this.dataObj);\n\n      //nak check code ,204 error, 200 ok, 504 \"Server SPR terlalu perlahan.\"\n      if (result.code == 200) {\n        this.dismissLoading();\n        //save dataObj guna key trackingNum, so retrive guna get()\n        // this.dataObjNew.push(this.dataObj);\n        this.dataProvider.save(this.dataObj);\n        // this.storage.set(this.dataObj.trackingNum, this.dataObj);\n\n        //send data to new HomePage\n        this.navCtrl.push('TrackprogressPage', { 'dataObj': this.dataObj });\n\n\n      } if (result.code == 204) {\n        this.showPrompt();\n      } if (result.code == 504) {\n        this.showPrompt2();\n      }\n    })\n  }\n\n  reset() {\n    this.haptic.acoustic()\n\n    this.trackingStatus = [];\n    this.trackingNum = '';\n  }\n\n  iconSelect() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: \"Choose below\",\n      buttons: [\n        {\n          text: \"Camera\",\n          icon: \"camera\",\n          handler: () => {\n            this.icon = 'basket'\n          }\n        },\n        {\n          text: \"Gallery\",\n          icon: \"photos\",\n          handler: () => {\n          }\n        },\n        {\n          text: \"Remove avatar\",\n          icon: \"trash\",\n          handler: () => {\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}